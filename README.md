# è‹±æ±‰ç¿»è¯‘Chromeæ’ä»¶

ä¸€ä¸ªæ”¯æŒéŸ³æ ‡æ˜¾ç¤ºå’Œå‘éŸ³çš„è‹±æ±‰ç¿»è¯‘Chromeæ’ä»¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ åŒå‡»å•è¯å¿«é€Ÿç¿»è¯‘
- ğŸ”¤ æ˜¾ç¤ºæ ‡å‡†IPAéŸ³æ ‡
- ğŸ”Š æ”¯æŒæ–‡æœ¬æœ—è¯»å’ŒçœŸäººå‘éŸ³
- ğŸ¨ ç°ä»£åŒ–çš„UIè®¾è®¡

## é¡¹ç›®ç»“æ„

```
manifest.json           # æ’ä»¶é…ç½®æ–‡ä»¶
background.js           # åå°è„šæœ¬
content.js              # å†…å®¹è„šæœ¬ï¼ˆä¸»è¦åŠŸèƒ½ï¼‰
popup.html              # å¼¹çª—ç•Œé¢
popup.js                # å¼¹çª—é€»è¾‘
icon.png                # æ’ä»¶å›¾æ ‡
package.json            # é¡¹ç›®é…ç½®
build.js                # æ„å»ºè„šæœ¬
.gitignore              # Gitå¿½ç•¥æ–‡ä»¶
README.md               # é¡¹ç›®è¯´æ˜
release/                # æ„å»ºäº§ç‰©ç›®å½•
release.zip             # æ‰“åŒ…zip
node_modules/           # ä¾èµ–ç›®å½•
tests/                  # æµ‹è¯•ç›®å½•
  â”œâ”€â”€ ipa-normalizer.test.js    # éŸ³æ ‡æ ‡å‡†åŒ–æµ‹è¯•
  â”œâ”€â”€ translation.test.js       # ç¿»è¯‘è§£ææµ‹è¯•
  â””â”€â”€ run-tests.js              # æµ‹è¯•è¿è¡Œå™¨
```

## å¼€å‘æŒ‡å—

### å®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd chromeplugin

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
npm install
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# æˆ–è€…ç›´æ¥è¿è¡Œ
node tests/run-tests.js
```

### æ„å»ºå‘å¸ƒ

```bash
# è¿è¡Œæµ‹è¯•åæ„å»º
npm run build:test

# ä»…æ„å»ºï¼ˆä¸è¿è¡Œæµ‹è¯•ï¼‰
npm run build

# æ„å»ºå¹¶è‡ªåŠ¨æ‰“åŒ…ä¸ºrelease.zipï¼ˆæ¨èæäº¤Chrome Web Storeï¼‰
npm run build:zip

# åªæ‰“åŒ…releaseç›®å½•ä¸ºrelease.zipï¼ˆreleaseç›®å½•å·²å­˜åœ¨æ—¶ï¼‰
npm run zip

# æ¸…ç†å‘å¸ƒç›®å½•
npm run clean
```

> **è¯´æ˜ï¼š**
> - `release/` ç›®å½•ä¸ºæ„å»ºäº§ç‰©ï¼Œä¸ä¼šè¢«æäº¤åˆ°gitã€‚
> - `release.zip` æ˜¯å¯ç›´æ¥ä¸Šä¼ åˆ° Google Chrome Web Store çš„æ ‡å‡†åŒ…ã€‚
> - æ‰€æœ‰æµ‹è¯•ã€æ„å»ºã€æ‰“åŒ…å‘½ä»¤å‡å¯é€šè¿‡ `npm run ...` æ–¹å¼ä¸€é”®å®Œæˆã€‚

## æµ‹è¯•ç³»ç»Ÿ

### éŸ³æ ‡æ ‡å‡†åŒ–æµ‹è¯•

æµ‹è¯• `normalizeIPA` å‡½æ•°çš„å„ç§è½¬æ¢è§„åˆ™ï¼š

- ç¾å¼É¹è½¬è‹±å¼r
- É¾(flap t)è½¬t
- ÉÉšè½¬ÉœË
- oÊŠè½¬É™ÊŠ
- É¡è½¬g
- É”è½¬É”Ë
- ÊŠrè½¬ÊŠÉ™
- É™rè½¬É™
- å¤šä½™é•¿éŸ³ç¬¦å·å¤„ç†
- æ–œæ å»é™¤
- ç©ºæ ¼è§„èŒƒåŒ–

### ç¿»è¯‘è§£ææµ‹è¯•

æµ‹è¯• `parseGoogleResult` å‡½æ•°çš„è§£æé€»è¾‘ï¼š

- æ ‡å‡†ç¿»è¯‘ç»“æœè§£æ
- åªæœ‰ä¸»ç¿»è¯‘çš„æƒ…å†µ
- ç©ºæ•°æ®å¤„ç†
- å¼‚å¸¸æ•°æ®å¤„ç†

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
node tests/run-tests.js

# è¿è¡Œç‰¹å®šæµ‹è¯•
node tests/ipa-normalizer.test.js
node tests/translation.test.js
```

## å‘å¸ƒæµç¨‹

1. **è¿è¡Œæµ‹è¯•**ï¼šç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
   ```bash
   npm test
   ```

2. **æ„å»ºå¹¶æ‰“åŒ…å‘å¸ƒæ–‡ä»¶**ï¼šç”Ÿæˆå¹²å‡€çš„ `release.zip` åŒ…
   ```bash
   npm run build:zip
   ```

3. **æ£€æŸ¥å‘å¸ƒåŒ…**ï¼šç¡®è®¤ `release.zip` å†…åŒ…å«æ‰€éœ€æ–‡ä»¶
   - manifest.json
   - background.js
   - content.js
   - popup.html
   - popup.js
   - icon.png

4. **ä¸Šä¼ æ’ä»¶**ï¼šå°† `release.zip` ä¸Šä¼ åˆ° Chrome Web Store

## æ³¨æ„äº‹é¡¹

- æµ‹è¯•æ–‡ä»¶ä½äº `tests/` ç›®å½•ï¼Œä¸ä¼šè¢«åŒ…å«åœ¨å‘å¸ƒåŒ…ä¸­
- æ„å»ºè„šæœ¬ä¼šè‡ªåŠ¨æ’é™¤æµ‹è¯•ç›¸å…³æ–‡ä»¶
- å‘å¸ƒå‰è¯·ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- éŸ³æ ‡è½¬æ¢è§„åˆ™åŸºäºä¸­å›½å¸¸ç”¨çš„IPAæ ‡å‡†

## æŠ€æœ¯æ ˆ

- Chrome Extension Manifest V3
- åŸç”ŸJavaScript
- Google Translate API
- Free Dictionary API
- Web Speech API

## è®¸å¯è¯

MIT License 